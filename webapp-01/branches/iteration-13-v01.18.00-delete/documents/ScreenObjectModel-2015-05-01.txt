Gallery Recovery Requirements and Use Cases

General Principles

1. The app should never crash because of problems with galleries.  In the worst case display the
   page with no gallery (or maybe an error message).

2. If there is a problem with a gallery which is recoverable (e.g. non-existent gallery folder), 
   then if the problem is fixed then the app should recover and display the gallery.

Initialisation

o At start up, the app creates a GalleryManager object with no galleries added.  This is because
  (at the moment) the app doesn’t know a gallery is required until a page where it is needed is
  requested.

  NOTE: Two other options are available.
        
        Firstly, the app could read the database at start up and find all the enabled pages which
        have a gallery flag set, and create galleries for each one.

        Secondly, the app could create a gallery for every folder under the galleries root folder.
        This would be a mistake because there may be superfluous folders or folders for pages
        which are currently disabled.  This would be messy.

o When a page is requested which requires a gallery, within the ViewScreen action, the app checks
  whether a gallery exists for this page and if not adds one.  This approach has been chosen in
  preference to automatically adding a gallery if it doesn’t exist when a call to getGallery
  is made.  This was a close one but it gives a bit more control.

o If an attempt is made to add a gallery but an error occurs during the process, there a number of
  options:

  Option 1: no gallery is created and next time the gallery is created an attempt will be made to
            create it again.

  Option 2: a gallery slot will be created but will store null instead of a Gallery object.  This
            will be an indication to the app that a previous attempt had been made to create the
            gallery.

  Option 3: a Gallery object will be created, but without all the elements, and with flags set
            (probably within the GalleryStatus object stored within each gallery) to indicate which
            elements are missing.  This gives the app the chance to recover the missing elements 
            and continue.

  The elements of a gallery which need to be in place are:

  - Gallery folder needs to pre-exist - i.e. not created by the app.
  - Gallery folder needs to have zero or more (pre-existing) image files (zero should be dealt
    with).
  - A Thumbnail folder has been created successfully.
  - There is a thumbnail image file for every image file in the gallery folder.

  ------------------------------------------------------------------------------------------------
  DESIGN DECISION: I have decided to go with Option 1.  Note that this will require a change to
                   app to make Gallery Creation a factory method so it can return null.  I have
                   been seriously thinking about doing this in any case!
  ------------------------------------------------------------------------------------------------

